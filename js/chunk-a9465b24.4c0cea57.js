(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9465b24"],{2355:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"container"},[t.carts.length>0?e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"ec-container col-md-6 bg-white py-5"},[e("div",{staticClass:"d-flex justify-content-between mb-5"},[e("h2",{staticClass:"mt-2 text-brown font-weight-bold"},[t._v("購物車")]),e("a",{staticClass:"h2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.removeAllCartItem()}}},[e("i",{staticClass:"fas fa-times"})])]),t._l(t.carts,(function(a){return e("div",{key:a.product.id+1},[e("div",{staticClass:"d-flex mt-4 bg-light"},[e("div",{staticClass:"rounded-0",staticStyle:{width:"130px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.product.imageUrl[0]+")"}}),e("div",{staticClass:"w-100 p-3 position-relative"},[e("a",{staticClass:"position-absolute",staticStyle:{top:"16px",right:"16px"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.removeCartItem(a.product.id)}}},[e("i",{staticClass:"fas fa-times"})]),e("p",{staticClass:"mb-0 font-weight-bold"},[t._v(" "+t._s(a.product.title)+" ")]),e("p",{staticClass:"mb-1 text-muted",staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(a.product.content)+" ")]),e("div",{staticClass:"d-flex justify-content-between align-items-center w-100 mt-3"},[e("div",{staticClass:"input-group w-50 align-items-center"},[e("div",{staticClass:"input-group-append pr-1"},[e("button",{staticClass:"btn btn-outline-brown btn-sm border-0",attrs:{disabled:1===a.quantity},on:{click:function(e){return e.preventDefault(),t.quantityUpdate(a.product.id,a.quantity-1)}}},[e("i",{staticClass:"fas fa-minus"})])]),e("input",{staticClass:"form-control border-0\n                           text-center my-auto shadow-none bg-light px-0",attrs:{id:"quantity",type:"number",disabled:""},domProps:{value:a.quantity},on:{change:function(e){return t.quantityUpdate(a.product.id,e.target.value)}}}),e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-brown btn-sm border-0",attrs:{disabled:5===a.quantity},on:{click:function(e){return e.preventDefault(),t.quantityUpdate(a.product.id,a.quantity+1)}}},[e("i",{staticClass:"fas fa-plus"})])])]),e("p",{staticClass:"mb-0 ml-auto info-text"},[t._v(" "+t._s(t._f("money")(a.product.price))+"/"+t._s(a.product.unit)+" ")])])])])])})),e("div",{staticStyle:{"margin-left":"124px"}},[e("div",{staticClass:"d-flex justify-content-between mt-4"},[e("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v("總計")]),e("p",{staticClass:"mb-0 h4 font-weight-bold"},[t._v(" "+t._s(t._f("money")(t.cartTotal))+" ")])])]),e("div",{staticClass:"d-flex mt-4 justify-content-between\n              align-items-md-center align-items-end w-100"},[e("router-link",{staticClass:"text-dark mt-5 h5",attrs:{to:"/products"}},[e("i",{staticClass:"fas fa-chevron-left mr-1"}),t._v(" 繼續購物 ")]),e("router-link",{staticClass:"btn btn-brown mt-5 rounded-0",attrs:{to:"/order"}},[t._v(" 確認訂單 ")])],1)],2)]):e("div",[e("div",{staticClass:"d-flex justify-content-center my-7"},[e("h4",{staticClass:"mb-3 warning-text"},[t._v("購物車無商品，快去逛逛")]),e("router-link",{staticClass:"text-dark mt-5 mt-3",attrs:{to:"/products"}},[e("i",{staticClass:"fas fa-chevron-left mr-2"}),t._v(" 繼續購物 ")])],1)]),e("div",{staticClass:"mt-7"},[e("HomeCategory")],1)])],1)},s=[],c=(e("99af"),e("4160"),e("159b"),e("cd54")),n=e("3a07"),o={data:function(){return{carts:{},cartTotal:0,isLoading:!1}},components:{HomeCategory:n["a"]},created:function(){this.getCart()},methods:{getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("28c229ba-c1c4-47f6-9be0-210c99409aa6","/ec/shopping");this.$http.get(a).then((function(a){t.carts=a.data.data,t.updateTotal(),t.isLoading=!1})).catch((function(){c["a"].fire({title:"無法取得資料，稍後再試",icon:"error"}),t.isLoading=!1}))},updateTotal:function(){var t=0;this.carts.forEach((function(a){t+=a.product.price*a.quantity})),this.cartTotal=t},quantityUpdate:function(t,a){var e=this;if(this.isLoading=!0,!(a<=0)){var i="".concat("https://course-ec-api.hexschool.io/api/").concat("28c229ba-c1c4-47f6-9be0-210c99409aa6","/ec/shopping"),s={product:t,quantity:a};this.$http.patch(i,s).then((function(){e.getCart(),c["a"].fire({text:"商品已更正數量",icon:"success"}),e.isLoading=!1})).catch((function(){c["a"].fire({title:"商品無法更新數量，稍後再試",icon:"error"}),e.isLoading=!1}))}},removeAllCartItem:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("28c229ba-c1c4-47f6-9be0-210c99409aa6","/ec/shopping/all/product");this.$http.delete(a).then((function(){t.$bus.$emit("update-total"),t.getCart(),c["a"].fire({text:"商品已全部刪除",icon:"success"}),t.isLoading=!1,t.$router.push("/products")})).catch((function(){c["a"].fire({text:"商品刪除失敗",icon:"error"}),t.isLoading=!1}))},removeCartItem:function(t){var a=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("28c229ba-c1c4-47f6-9be0-210c99409aa6","/ec/shopping/").concat(t);this.$http.delete(e).then((function(){a.$bus.$emit("update-total"),a.getCart(),c["a"].fire({text:"商品已刪除",icon:"success"}),a.isLoading=!1})).catch((function(){c["a"].fire({text:"商品刪除失敗",icon:"error"}),a.isLoading=!1}))}}},r=o,u=(e("5cee"),e("2877")),l=Object(u["a"])(r,i,s,!1,null,"33cbf572",null);a["default"]=l.exports},"3a07":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-7"},[e("h4",{staticClass:"font-weight-bold"},[t._v("商品介紹")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4 my-4"},[e("div",{staticClass:"card border-0 mb-4"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toCategory("中焙咖啡豆")}}},[e("div",{staticClass:"rounded-0",staticStyle:{height:"300px","background-size":"cover","background-position":"center","background-image":"url('https://images.pexels.com/photos/2478347/pexels-photo-2478347.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940')"}})]),t._m(0)])]),e("div",{staticClass:"col-lg-4 my-4"},[e("div",{staticClass:"card border-0 mb-4"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toCategory("淺焙咖啡豆")}}},[e("div",{staticClass:"rounded-0",staticStyle:{height:"300px","background-size":"cover","background-position":"center","background-image":"url('https://images.pexels.com/photos/942768/pexels-photo-942768.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940')"}})]),t._m(1)])]),e("div",{staticClass:"col-lg-4 my-4"},[e("div",{staticClass:"card border-0 mb-4"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.toCategory("周邊商品")}}},[e("div",{staticClass:"rounded-0",staticStyle:{height:"300px","background-size":"cover","background-position":"center","background-image":"url('https://images.unsplash.com/photo-1523063308874-cecc260a3171?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80')"}})]),t._m(2)])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-body p-0"},[e("h4",{staticClass:"mb-0 mt-4"},[t._v("中焙咖啡豆")]),e("div",{staticClass:"d-flex justify-content-between mt-3"},[e("p",{staticClass:"card-text text-muted mb-0 w-75"},[t._v(" 少許活潑香氣、沉穩的堅果、可可，平衡的酸甜比 ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-body p-0"},[e("h4",{staticClass:"mb-0 mt-4"},[t._v("淺焙咖啡豆")]),e("div",{staticClass:"d-flex justify-content-between mt-3"},[e("p",{staticClass:"card-text text-muted mb-0 w-75"},[t._v(" 果酸味強烈，明亮度高，依豆子的種植地其酸味會略有不同 ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-body p-0"},[e("h4",{staticClass:"mb-0 mt-4"},[t._v("周邊商品")]),e("div",{staticClass:"d-flex justify-content-between mt-3"},[e("p",{staticClass:"card-text text-muted mb-0 w-75"},[t._v(" 好器材讓你得心應手適合的器材讓你愛不釋手 ")])])])}],c={data:function(){return{}},methods:{toCategory:function(t){this.$router.push({name:"products",params:{categoryName:t}})}}},n=c,o=e("2877"),r=Object(o["a"])(n,i,s,!1,null,null,null);a["a"]=r.exports},"5cee":function(t,a,e){"use strict";var i=e("8e09"),s=e.n(i);s.a},8418:function(t,a,e){"use strict";var i=e("c04e"),s=e("9bf2"),c=e("5c6c");t.exports=function(t,a,e){var n=i(a);n in t?s.f(t,n,c(0,e)):t[n]=e}},"8e09":function(t,a,e){},"99af":function(t,a,e){"use strict";var i=e("23e7"),s=e("d039"),c=e("e8b5"),n=e("861d"),o=e("7b0b"),r=e("50c4"),u=e("8418"),l=e("65f0"),d=e("1dde"),p=e("b622"),f=e("2d00"),h=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",b=f>=51||!s((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=d("concat"),C=function(t){if(!n(t))return!1;var a=t[h];return void 0!==a?!!a:c(t)},y=!b||!g;i({target:"Array",proto:!0,forced:y},{concat:function(t){var a,e,i,s,c,n=o(this),d=l(n,0),p=0;for(a=-1,i=arguments.length;a<i;a++)if(c=-1===a?n:arguments[a],C(c)){if(s=r(c.length),p+s>m)throw TypeError(v);for(e=0;e<s;e++,p++)e in c&&u(d,p,c[e])}else{if(p>=m)throw TypeError(v);u(d,p++,c)}return d.length=p,d}})}}]);
//# sourceMappingURL=chunk-a9465b24.4c0cea57.js.map