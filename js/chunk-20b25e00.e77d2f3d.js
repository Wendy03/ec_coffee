(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b25e00"],{"0b5b":function(t,e,i){},2532:function(t,e,i){"use strict";var a=i("23e7"),r=i("5a34"),o=i("1d80"),s=i("ab13");a({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,i){var a=i("861d"),r=i("c6b6"),o=i("b622"),s=o("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},"4c69":function(t,e,i){"use strict";var a=i("0b5b"),r=i.n(a);r.a},"5a34":function(t,e,i){var a=i("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"81b1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),i("div",{staticClass:"container ec-container my-5"},[t.products.length>0?i("div",{staticClass:"row"},[i("div",{staticClass:"col-lg-2 col-md-3 mb-2"},[i("ul",{staticClass:"list-group rounded-0"},[i("a",{staticClass:"list-group-item list-group-item-action",class:{active:""===t.filterCategory},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterCategory=""}}},[t._v(" 全部商品 ")]),t._l(t.categories,(function(e){return i("a",{key:e,staticClass:"list-group-item list-group-item-action",class:{active:e===t.filterCategory},attrs:{href:"#"},on:{click:function(i){i.preventDefault(),t.filterCategory=e}}},[t._v(" "+t._s(e)+" ")])}))],2)]),i("div",{staticClass:"col-lg-10 col-md-9"},[i("div",{staticClass:"row"},t._l(t.filterCategories,(function(e){return i("div",{key:e.id,staticClass:"col-lg-4 col-sm-6 mb-3 mb-4"},[i("div",{staticClass:"card h-100 rounded-0"},[i("router-link",{attrs:{to:"/product/"+e.id}},[i("div",{staticClass:"rounded-0",staticStyle:{height:"180px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl[0]+")"}})]),i("div",{staticClass:"position-absolute p-2 heart-icon",on:{click:function(i){return i.preventDefault(),t.editfollow(e.id)}}},[-1===t.followed.indexOf(e.id)?i("i",{staticClass:"fas fa-heart text-white"}):i("i",{staticClass:"fas fa-heart text-heart"})]),i("div",{staticClass:"card-body"},[i("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(" "+t._s(e.category)+" ")]),i("router-link",{attrs:{to:"/product/"+e.id}},[i("h5",{staticClass:"card-title font-weight-bold text-brown"},[t._v(" "+t._s(e.title)+" ")])]),i("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),i("div",{staticClass:"text-right pr-2 h6"},[t._v(" "+t._s(t._f("money")(e.price))+" 元 ")])],1),i("div",{staticClass:"card-footer d-flex border-top-0 bg-white"},[i("button",{staticClass:"btn btn-outline-brown btn-block rounded-0",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(i){return i.preventDefault(),t.addToCart(e.id)}}},[t.status.loadingItem===e.id?i("i",{staticClass:"fas fa-spinner fa-spin"}):i("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" 加到購物車 ")])])],1)])})),0)])]):t._e()])],1)},r=[],o=(i("99af"),i("4de4"),i("caad"),i("c975"),i("a434"),i("2532"),i("cd54")),s={data:function(){return{status:{loadingItem:""},products:[],carts:[],categories:["中焙咖啡豆","淺焙咖啡豆","周邊商品"],filterCategory:"",followed:JSON.parse(localStorage.getItem("followList"))||[],isLoading:!1,isProcessing:!1}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("28c229ba-c1c4-47f6-9be0-210c99409aa6","/ec/products");this.isLoading=!0,this.$http.get(e).then((function(e){t.products=e.data.data;var i=t.$route.params.categoryName;i&&(t.filterCategory=i),t.isLoading=!1})).catch((function(){o["a"].fire({title:"無法取得資料，稍後再試",icon:"error"}),t.isLoading=!1}))},addToCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t,this.isProcessing=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("28c229ba-c1c4-47f6-9be0-210c99409aa6","/ec/shopping"),r={product:t,quantity:i};this.$http.post(a,r).then((function(){e.$bus.$emit("update-total"),o["a"].fire({title:"已加入購物車",icon:"success"}),e.status.loadingItem="",e.isProcessing=!1})).catch((function(t){var i=t.response.data.errors;i&&o["a"].fire({title:"".concat(i),icon:"warning"}),e.status.loadingItem="",e.isProcessing=!1}))},editfollow:function(t){var e=this.followed.indexOf(t);-1===e?(this.followed.push(t),o["a"].fire({title:"已加入追蹤",icon:"success"})):(this.followed.splice(e,1),o["a"].fire({title:"已取消追蹤",icon:"success"})),localStorage.setItem("followList",JSON.stringify(this.followed))}},computed:{filterCategories:function(){var t=this;return this.filterCategory?this.products.filter((function(e){var i=e.category.toLowerCase().includes(t.filterCategory.toLowerCase());return i})):this.products}}},n=s,c=(i("4c69"),i("2877")),l=Object(c["a"])(n,a,r,!1,null,"5e4966b8",null);e["default"]=l.exports},8418:function(t,e,i){"use strict";var a=i("c04e"),r=i("9bf2"),o=i("5c6c");t.exports=function(t,e,i){var s=a(e);s in t?r.f(t,s,o(0,i)):t[s]=i}},"99af":function(t,e,i){"use strict";var a=i("23e7"),r=i("d039"),o=i("e8b5"),s=i("861d"),n=i("7b0b"),c=i("50c4"),l=i("8418"),d=i("65f0"),u=i("1dde"),f=i("b622"),g=i("2d00"),h=f("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",b=g>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),C=u("concat"),m=function(t){if(!s(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)},y=!b||!C;a({target:"Array",proto:!0,forced:y},{concat:function(t){var e,i,a,r,o,s=n(this),u=d(s,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(o=-1===e?s:arguments[e],m(o)){if(r=c(o.length),f+r>p)throw TypeError(v);for(i=0;i<r;i++,f++)i in o&&l(u,f,o[i])}else{if(f>=p)throw TypeError(v);l(u,f++,o)}return u.length=f,u}})},a434:function(t,e,i){"use strict";var a=i("23e7"),r=i("23cb"),o=i("a691"),s=i("50c4"),n=i("7b0b"),c=i("65f0"),l=i("8418"),d=i("1dde"),u=i("ae40"),f=d("splice"),g=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!g},{splice:function(t,e){var i,a,d,u,f,g,C=n(this),m=s(C.length),y=r(t,m),w=arguments.length;if(0===w?i=a=0:1===w?(i=0,a=m-y):(i=w-2,a=p(h(o(e),0),m-y)),m+i-a>v)throw TypeError(b);for(d=c(C,a),u=0;u<a;u++)f=y+u,f in C&&l(d,u,C[f]);if(d.length=a,i<a){for(u=y;u<m-a;u++)f=u+a,g=u+i,f in C?C[g]=C[f]:delete C[g];for(u=m;u>m-a+i;u--)delete C[u-1]}else if(i>a)for(u=m-a;u>y;u--)f=u+a-1,g=u+i-1,f in C?C[g]=C[f]:delete C[g];for(u=0;u<i;u++)C[u+y]=arguments[u+2];return C.length=m-a+i,d}})},ab13:function(t,e,i){var a=i("b622"),r=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(a){}}return!1}},c975:function(t,e,i){"use strict";var a=i("23e7"),r=i("4d64").indexOf,o=i("a640"),s=i("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),d=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?n.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},caad:function(t,e,i){"use strict";var a=i("23e7"),r=i("4d64").includes,o=i("44d2"),s=i("ae40"),n=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!n},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")}}]);
//# sourceMappingURL=chunk-20b25e00.e77d2f3d.js.map